import{t as e,_ as t}from"./app.1d1652e0.js";import{s as a}from"./a15cf14e.js";/* empty css        *//* empty css        */import{ak as s,aA as l,r as o,I as n,d as u,al as r,K as p,F as i,L as c,E as d,Q as m,U as b,ab as v,M as f,$ as y,aa as O,G as h,V as B,O as g,T as C,W as w,P as k,H as x,u as _,S as j,_ as F,a as V}from"./3ebc8dfa.js";import{s as S,t as W,u as P,w as T,x as A,q,a as M,y as $,z,A as D,B as E,C as G,D as H,F as I,G as K,H as L,I as N,J as Q,K as U,L as J,M as R,N as X,l as Y,O as Z,P as ee}from"./9a0a6ec3.js";const te={class:"flex items-center gap-[5px]"},ae={__name:"index",props:{values:{type:Object,default:()=>({})},schema:{type:Array,default:()=>[]},commonConfig:{type:Object,default:()=>({})},collapsed:{type:Boolean,default:!0},showCollapseButton:{type:Boolean,default:!1},collapseButtonText:{type:Array,default:()=>["展开","收起"]},collapseCount:{type:Number,default:2}},emits:["submit","reset","cancel"],setup(t,{expose:V,emit:ae}){const se=ae,le=(e,t)=>a=>{const{options:l=[],prop:o={label:"label",value:"value"}}=a,n=o.label,u=o.value;return s(e,a,(()=>("function"==typeof l?l():l).map((e=>{let a=e.slots;return"string"==typeof a&&(a=re[a]),s(t,{label:e[n],value:e[u]},a)}))))},oe={input:U,number:Q,select:s(le(ee,Z),{popperClass:"neon-select-popper"}),selectV2:N,radio:le(Y,X),checkbox:le(R,J),date:L,time:K,timeSelect:I,autocomplete:s(P,{popperClass:"neon-autocomplete-popper"}),cascader:s(W,{popperClass:"neon-cascader-popper"}),inputTag:H,mention:G,rate:E,slider:D,switch:z,tree:s(S,{popperClass:"neon-tree-popper"})},ne=l("form"),ue=o(t.collapsed),re=n(),pe=o({...t.values}),ie=()=>{ue.value=!ue.value},ce=u((()=>Object.assign({wrapperClass:"",labelPosition:"right"},e.omit(t.commonConfig,["actionWrapperClass","submitButtonOptions","resetButtonOptions","cancelButtonOptions"])))),de=u((()=>{const e={actionWrapperClass:"col-start--2 ml-auto",submitButtonOptions:{type:"primary",text:"提交",show:!0,disabled:!1,loading:!1},resetButtonOptions:{plain:!0,text:"重置",show:!0,disabled:!1},cancelButtonOptions:{plain:!0,text:"取消",show:!1,disabled:!1}},{actionWrapperClass:a="",submitButtonOptions:s={},resetButtonOptions:l={},cancelButtonOptions:o={}}=t.commonConfig;return Object.assign(e,{actionWrapperClass:a||e.actionWrapperClass,submitButtonOptions:Object.assign(e.submitButtonOptions,s),resetButtonOptions:Object.assign(e.resetButtonOptions,l),cancelButtonOptions:Object.assign(e.cancelButtonOptions,o)})})),me=["label","key","type","style","rules","help"],be=t=>t.props?t.props:e.omit(t,me),ve=e=>e.style?{...e.style}:{},fe={props:{item:Object,modelValue:Object},setup:(e,{slots:t})=>()=>{const{item:a}=e,l=Object.fromEntries(Object.entries(a.slots||{}).map((([e,a])=>[e,"string"==typeof a&&t[a]?t[a]:a])));return s((e=>{const{type:t}=e;return t&&"string"!=typeof t?t:oe[e.type||"input"]})(a),{...be(a),modelValue:pe.value[a.key],"onUpdate:modelValue":e=>{pe.value[a.key]=e}},l)}},ye=u((()=>t.schema.filter((e=>!e.hidden)))),Oe=async e=>{e&&await e.validate((e=>{if(!e)return a();se("submit",pe.value)}))},he=()=>{se("cancel")};return V({validate:(...e)=>ne.value?.validate(...e),validateFileds:(...e)=>ne.value?.validateFields(...e),resetFields(){ne.value?.resetFields()},clearValidate(){ne.value?.clearValidate()},setState:e=>{Object.assign(t.commonConfig,e)}}),(a,s)=>{const l=r("Warning"),o=q,n=A,u=T,V=M,S=r("ArrowDown"),W=$;return i(),p(W,x({ref:"form",model:pe.value},_(e).omit(ce.value,["wrapperClass"]),{onSubmit:s[2]||(s[2]=F((e=>Oe(ne.value)),["prevent"])),class:["neon-form",["neon-form",ce.value.wrapperClass]]}),{default:c((()=>[(i(!0),d(b,null,v(ye.value,((e,s)=>f((i(),p(u,{key:e.key,label:e.label,prop:e.key,rules:e.rules,style:y(ve(e))},O({default:c((()=>[h(a.$slots,e.key,{},(()=>[B(fe,{modelValue:pe.value,item:e},null,8,["modelValue","item"])]))])),_:2},[e.help?{name:"label",fn:c((()=>[g("div",te,[g("span",null,C(e.label),1),B(n,{content:e.help,placement:"right"},{default:c((()=>[B(o,null,{default:c((()=>[B(l)])),_:1})])),_:2},1032,["content"])])])),key:"0"}:void 0]),1032,["label","prop","rules","style"])),[[w,ue.value||s<t.collapseCount]]))),128)),de.value.submitButtonOptions.show||de.value.resetButtonOptions.show||de.value.cancelButtonOptions.show?(i(),p(u,{key:0,class:k(de.value.actionWrapperClass)},{default:c((()=>[h(a.$slots,"buttons",{},(()=>[de.value.submitButtonOptions.show?(i(),p(V,x({key:0},_(e).omit(de.value.submitButtonOptions,["show","text"]),{onClick:s[0]||(s[0]=e=>Oe(ne.value))}),{default:c((()=>[j(C(de.value.submitButtonOptions.text),1)])),_:1},16)):m("",!0),de.value.resetButtonOptions.show?(i(),p(V,x({key:1},_(e).omit(de.value.resetButtonOptions,["show","text"]),{onClick:s[1]||(s[1]=e=>{var t;(t=ne.value)&&(t?.resetFields(),se("reset",pe.value))})}),{default:c((()=>[j(C(de.value.resetButtonOptions.text),1)])),_:1},16)):m("",!0),de.value.cancelButtonOptions.show?(i(),p(V,x({key:2},_(e).omit(de.value.cancelButtonOptions,["show","text"]),{onClick:he}),{default:c((()=>[j(C(de.value.cancelButtonOptions.text),1)])),_:1},16)):m("",!0)])),t.showCollapseButton&&t.schema.length>t.collapseCount?(i(),p(V,{key:0,type:"primary",link:"",onClick:ie},{default:c((()=>[g("span",null,C(ue.value?t.collapseButtonText[1]:t.collapseButtonText[0]),1),g("div",{class:k(["ml-1 transition-transform duration-300",{"rotate-180":ue.value}])},[B(o,null,{default:c((()=>[B(S)])),_:1})],2)])),_:1})):m("",!0)])),_:3},8,["class"])):m("",!0)])),_:3},16,["model","class"])}}},se=e=>{const t=o(null);return[(a,{slots:l})=>s(ae,{...V(e),ref:t},l),{validate:()=>new Promise(((e,s)=>{t.value?.validate((t=>{t?e(t):(a(),s(t))}))})),resetFields(){t.value?.resetFields()},clearValidate(){t.value?.clearValidate()},validateField(...e){t.value?.validateField(e)},setState(e){t.value?.setState(e)}}]},le={class:"p-[15px]"},oe=Object.assign({name:"FormQuery"},{__name:"query",setup(e){const a=[{label:"字符串",key:"name",rules:{required:!0,message:"请输入用户名",trigger:["blur","change"]},placeholder:"请输入字符串"},{label:"密码",key:"password",props:{type:"password",placeholder:"请输入密码"}},{label:"数字",key:"number",type:"number",props:{controlsPosition:"right",placeholder:"请输入数字"}},{label:"下拉框",key:"select",type:"select",options:[{label:"选项1",value:1},{label:"选项2",value:2},{label:"选项3",value:3}]}],[s,l]=se({schema:a,commonConfig:{labelWidth:80},showCollapseButton:!0,onSubmit:async e=>{await l.validate()}}),[o,n]=se({schema:a,commonConfig:{labelWidth:80},collapsed:!1,showCollapseButton:!0,onSubmit:async e=>{await n.validate()}});return(e,a)=>{const l=t;return i(),p(l,null,{header:c((()=>a[0]||(a[0]=[g("h1",{class:"mb-2 font-bold"},"查询表单",-1),g("span",{class:"text-sm text-[var(--ne-foreground)]"}," 查询表单，常用语和表格组合使用，可进行收缩展开。 ",-1)]))),default:c((()=>[g("div",le,[a[1]||(a[1]=g("h2",{class:"pb-[20px] mb-5 border-b border-default font-bold"}," 查询表单，默认展开 ",-1)),B(_(s)),a[2]||(a[2]=g("h2",{class:"pb-[20px] mb-5 border-b border-default font-bold"}," 查询表单，默认折叠，折叠时保留2个 ",-1)),B(_(o))])])),_:1})}}}),ne=Object.freeze(Object.defineProperty({__proto__:null,default:oe},Symbol.toStringTag,{value:"Module"}));export{ae as _,ne as q,se as u};
