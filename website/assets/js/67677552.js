/* empty css        *//* empty css        */import{a}from"./35578506.js";import{r as s,E as t,F as i,O as e,aw as o,V as r,L as d,u as l,ax as n,ay as p,S as c}from"./3ebc8dfa.js";import{u}from"./bff78498.js";import{a as m,u as v,b as f,t as w,i as g,H as h,$ as y}from"./app.1d1652e0.js";import{E as x,a as _}from"./9a0a6ec3.js";import"./a15cf14e.js";import"./ad3e80cc.js";import"./dd39ef47.js";const j={class:"wh-full"},b={class:"login-layout"},k={class:"login-main fx-center"},q={class:"fx-col gap-[15px] w-full max-w-[500px]"},C=m({__name:"index",setup(m){const C=n(),O=p(),z=v(),{state:A,execute:B}=a((a=>f(a)),{},{immediate:!1}),[E,I]=u({schema:[{key:"username",placeholder:"请输入用户名",clearable:!0,rules:[{required:!0,message:"请输入用户名",trigger:["blur","change"]}]},{key:"password",props:{type:"password",placeholder:"请输入密码",showPassword:!0},rules:[{required:!0,message:"请输入密码",trigger:["blur","change"]}]}],commonConfig:{size:"large",actionWrapperClass:"w-full",submitButtonOptions:{class:"w-full mt-[15px]"},resetButtonOptions:{show:!1}},onSubmit:a=>S(a)}),N=s(!1),S=async a=>{try{await I.validate(),N.value=!0;const{username:s,password:t}=a;if(await B(0,{username:s,password:w.crypto.MD5(t)}),200!=A.value.code)return void(N.value=!1);const{token:i=""}=A.value;if(z.setToken(i),z.token){const a=C.query;await g(),a?.redirect?O.push(decodeURIComponent(a.redirect)):O.push(h)}}catch(s){y.error(`登录失败:${s}`)}};return(a,s)=>{const n=x,p=_;return i(),t("div",j,[e("div",b,[s[2]||(s[2]=o('<div class="login-side fx-center" data-v-1d2a6083><div class="relative z-10" data-v-1d2a6083><h1 data-v-1d2a6083>NeonAdmin</h1></div><div class="points-wrapper" data-v-1d2a6083><i class="point" data-v-1d2a6083></i><i class="point" data-v-1d2a6083></i><i class="point" data-v-1d2a6083></i><i class="point" data-v-1d2a6083></i><i class="point" data-v-1d2a6083></i><i class="point" data-v-1d2a6083></i><i class="point" data-v-1d2a6083></i><i class="point" data-v-1d2a6083></i><i class="point" data-v-1d2a6083></i><i class="point" data-v-1d2a6083></i></div></div>',1)),e("div",k,[e("div",q,[r(n,{class:"bg-default is-primary"},{default:d((()=>s[0]||(s[0]=[c(" NeonAdmin 管理平台 ")]))),_:1,__:[0]}),r(l(E),null,{buttons:d((()=>[r(p,{type:"primary",loading:N.value,"native-type":"submit",class:"w-full"},{default:d((()=>s[1]||(s[1]=[c(" 登录 ")]))),_:1,__:[1]},8,["loading"])])),_:1})])])])])}}},[["__scopeId","data-v-1d2a6083"]]);export{C as default};
